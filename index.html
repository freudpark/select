<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ì •ë³´ìì›í†µí•© ë³´ë¬¼ì°¾ê¸° !!</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    body {
      font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
    }

    .container {
      text-align: center;
      padding: 30px 24px;
      max-width: 420px;
      width: 100%
    }

    .title-main {
      font-size: 20px;
      font-weight: 900;
      color: #ffd700;
      margin-bottom: 4px;
      letter-spacing: 1px
    }

    .title-sub {
      font-size: 13px;
      color: #aaa;
      margin-bottom: 20px
    }

    .top-logo {
      width: 160px;
      border-radius: 12px;
      margin: 0 auto 18px;
      display: block;
      animation: bounce 1.5s infinite
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0)
      }

      50% {
        transform: translateY(-8px)
      }
    }

    h1 {
      font-size: 24px;
      margin-bottom: 10px;
      font-weight: 700
    }

    .sub {
      font-size: 15px;
      color: #bbb;
      margin-bottom: 20px;
      line-height: 1.7
    }

    .loc-badge {
      display: inline-block;
      background: rgba(255, 215, 0, 0.15);
      border: 1px solid rgba(255, 215, 0, 0.4);
      border-radius: 20px;
      padding: 5px 16px;
      font-size: 13px;
      color: #ffd700;
      margin-bottom: 16px;
      font-weight: 700;
    }

    .progress-wrap {
      background: rgba(255, 255, 255, 0.07);
      border-radius: 16px;
      padding: 14px 18px;
      margin-bottom: 22px;
    }

    .progress-label {
      font-size: 13px;
      color: #aaa;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between
    }

    .progress-bar-bg {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50px;
      height: 10px;
      overflow: hidden
    }

    .progress-bar-fill {
      height: 100%;
      border-radius: 50px;
      background: linear-gradient(90deg, #f093fb, #f5576c);
      transition: width 0.5s ease;
    }

    .progress-count {
      font-size: 22px;
      font-weight: 900;
      color: #f5576c;
      margin-top: 8px
    }

    .progress-count span {
      font-size: 14px;
      color: #aaa;
      font-weight: 400
    }

    .btn {
      background: linear-gradient(135deg, #f093fb, #f5576c);
      color: #fff;
      border: none;
      padding: 16px;
      border-radius: 50px;
      font-size: 19px;
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      box-shadow: 0 4px 24px rgba(245, 87, 108, 0.45);
      transition: transform .1s;
    }

    .btn:active {
      transform: scale(0.97)
    }

    .btn:disabled {
      background: #444;
      box-shadow: none;
      cursor: not-allowed
    }

    .loader {
      display: none;
      width: 42px;
      height: 42px;
      border: 4px solid rgba(255, 255, 255, 0.15);
      border-top: 4px solid #f5576c;
      border-radius: 50%;
      animation: spin .8s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }

    .error-msg {
      color: #ff6b6b;
      font-size: 13px;
      margin-top: 10px
    }

    #result {
      display: none
    }

    .result-box {
      border-radius: 24px;
      padding: 32px 24px
    }

    .result-found {
      background: linear-gradient(135deg, #1a1a6e, #4a0080)
    }

    .result-empty {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1)
    }

    .phone-input {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.25);
      border-radius: 14px;
      padding: 14px;
      font-size: 20px;
      color: #fff;
      width: 100%;
      margin: 18px 0 6px;
      text-align: center;
      letter-spacing: 3px;
    }

    .phone-input::placeholder {
      color: rgba(255, 255, 255, 0.35);
      letter-spacing: 1px
    }

    .phone-input:focus {
      outline: none;
      border-color: #f5576c
    }

    .submit-btn {
      background: #f5576c;
      color: #fff;
      border: none;
      padding: 14px;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      margin-top: 8px;
    }

    .submit-btn:disabled {
      background: #555;
      cursor: not-allowed
    }

    .success-msg {
      color: #69f0ae;
      font-size: 14px;
      margin-top: 12px
    }

    .admin-link {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.15);
      margin-top: 30px;
      display: block;
      text-decoration: none
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- ì‹œì‘ í™”ë©´ -->
    <div id="start-screen">
      <div class="title-main">ğŸ† ì •ë³´ìì›í†µí•© ë³´ë¬¼ì°¾ê¸° !! <span
          style="font-size: 10px; color: #666; vertical-align: middle;">v1.2.5 (Final)</span></div>
      <!-- deploy_sync: 1740388147 -->
      <div class="title-sub">í–‰ìš´ì„ í•¨ê»˜ í•©ë‹ˆë‹¤.</div>

      <!-- ê²½ê¸°êµìœ¡ ë¡œê³  ì´ë¯¸ì§€ (Base64 ë‚´ì¥) -->
      <img class="top-logo" id="top-logo" src="geo.png" alt="ê²½ê¸°êµìœ¡" />

      <div class="loc-badge" id="loc-label">ğŸ“ ì¤€ë¹„ ì¤‘...</div>
      <p class="sub">ì´ ê³³ì— ë³´ë¬¼ì´ ìˆ¨ê²¨ì ¸ ìˆì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤.<br />ë²„íŠ¼ì„ ëˆŒëŸ¬ ì§€ê¸ˆ í™•ì¸í•´ ë³´ì„¸ìš”!</p>

      <!-- ì§„í–‰ í˜„í™© -->
      <div class="progress-wrap">
        <div class="progress-label">
          <span>ğŸ ë‹¹ì²¨ í˜„í™©</span>
          <span id="progress-text">ì„œë²„ ì—°ê²° ì‹œë„ ì¤‘...</span>
        </div>
        <div class="progress-bar-bg">
          <div class="progress-bar-fill" id="progress-fill" style="width:0%"></div>
        </div>
        <div class="progress-count" id="progress-count">- <span>/ 10ëª… ë‹¹ì²¨</span></div>
      </div>

      <div class="loader" id="loader"></div>
      <button class="btn" id="find-btn" onclick="findTreasure()">ğŸ” ë³´ë¬¼ ì°¾ê¸°</button>
      <p class="error-msg" id="error-msg"></p>

      <!-- ìƒì„¸ ì§„ë‹¨ ë¡œê·¸ (í‰ì†Œ ìˆ¨ê¹€, ì—ëŸ¬ ì‹œì—ë§Œ ê°œë°œì í™•ì¸ìš©ìœ¼ë¡œ í‘œì‹œ ê°€ëŠ¥) -->
      <div id="debug-log"
        style="display:none; font-size:10px; color:#888; margin-top:10px; text-align:left; background:rgba(0,0,0,0.3); padding:10px; border-radius:8px; border:1px solid #444; max-height:100px; overflow-y:auto;">
        <strong>[ì‹œìŠ¤í…œ ë¡œê·¸]</strong><br>
      </div>

      <a href="admin.html" class="admin-link">ê´€ë¦¬ì</a>
    </div>

    <!-- ê²°ê³¼ í™”ë©´ -->
    <div id="result">
      <!-- ë‹¹ì²¨ -->
      <div class="result-box result-found" id="result-found" style="display:none">
        <div class="title-main">ğŸ† ì •ë³´ìì›í†µí•© ë³´ë¬¼ì°¾ê¸° !!</div>
        <img src="geo.png" style="width:120px;border-radius:10px;margin:16px auto;display:block;" alt="ê²½ê¸°êµìœ¡" />
        <h1>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!</h1>
        <p class="sub">ë³´ë¬¼ì„ ë°œê²¬í•˜ì…¨ìŠµë‹ˆë‹¤!<br />ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œë©´ ê²½í’ˆì„ ë“œë¦½ë‹ˆë‹¤.</p>
        <input type="tel" class="phone-input" id="phone-input" placeholder="010-0000-0000" maxlength="13"
          oninput="formatPhone(this)" inputmode="numeric" />
        <p class="error-msg" id="phone-error"></p>
        <button class="submit-btn" onclick="submitPhone()">ğŸ“± ë²ˆí˜¸ ì œì¶œí•˜ê¸°</button>
        <p class="success-msg" id="phone-success"></p>
      </div>

      <!-- ê½ -->
      <div class="result-box result-empty" id="result-empty" style="display:none">
        <div class="title-main">ğŸ† ì •ë³´ìì›í†µí•© ë³´ë¬¼ì°¾ê¸° !!</div>
        <img src="geo.png" style="width:120px;border-radius:10px;margin:16px auto;display:block;opacity:0.6;"
          alt="ê²½ê¸°êµìœ¡" />
        <h1>ğŸ˜… ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.</h1>
        <p class="sub">ì•„ì‰½ê²Œë„ ì´ ê³³ì—ëŠ” ë³´ë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.<br />ë‹¤ìŒ ê¸°íšŒë¥¼ ë…¸ë ¤ë³´ì„¸ìš”!</p>
      </div>

      <!-- ì´ë¯¸ ì°¸ê°€ -->
      <div class="result-box result-empty" id="result-already" style="display:none">
        <div class="title-main">ğŸ† ì •ë³´ìì›í†µí•© ë³´ë¬¼ì°¾ê¸° !!</div>
        <img src="geo.png" style="width:120px;border-radius:10px;margin:16px auto;display:block;opacity:0.4;"
          alt="ê²½ê¸°êµìœ¡" />
        <h1>ğŸš« ì´ë¯¸ ì°¸ê°€í•˜ì…¨ìŠµë‹ˆë‹¤.</h1>
        <p class="sub">1ì¸ 1íšŒë§Œ ì°¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
      </div>
    </div>

  </div>

  <!-- Firebase & ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Compat ë²„ì „ ì‚¬ìš©ìœ¼ë¡œ í˜¸í™˜ì„± ê·¹ëŒ€í™”) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
  <script src="https://openfpcdn.io/fingerprintjs/v4/iife.min.js"></script>

  <script>
    // [ì§„ë‹¨ ë¡œê·¸ í•¨ìˆ˜]
    function logMsg(msg, isError = false) {
      console.log(msg);
      const logBox = document.getElementById('debug-log');
      if (logBox) {
        logBox.style.display = 'block';
        logBox.innerHTML += (isError ? 'âŒ ' : 'âœ”ï¸ ') + msg + '<br>';
      }
    }

    // ğŸš¨ ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
    window.onerror = function (msg, url, lineNo) {
      logMsg(msg + " (L:" + lineNo + ")", true);
      alert("âŒ ì‹œìŠ¤í…œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: " + msg);
      return false;
    };

    // [ë¡œë”© ê°€ë“œ] ì´ˆê¸°í™” ì „ í´ë¦­ ë°©ì§€
    window.findTreasure = function () {
      alert("âš ï¸ ì‹œìŠ¤í…œì´ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.");
    };

    // =============================================
    // ğŸ”§ ì´ˆê¸°í™” ë° ë©”ì¸ ë¡œì§
    // =============================================
    (async function initApp() {
      try {
        logMsg("ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...");

        const firebaseConfig = {
          apiKey: "AIzaSyA93NRgnuwxFdh2XCT_ekKGeNSblRtaBFw",
          authDomain: "treasure-hunt-2fd83.firebaseapp.com",
          projectId: "treasure-hunt-2fd83",
          storageBucket: "treasure-hunt-2fd83.firebasestorage.app",
          messagingSenderId: "56352345293",
          appId: "1:56352345293:web:928ccb0515c76096ebed84",
          measurementId: "G-3RP1L4BDM0"
        };

        if (typeof firebase === 'undefined') throw new Error("Firebase ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì‹¤íŒ¨");

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        logMsg("ì„œë²„ ì—°ê²° ì™„ë£Œ.");
        // UI ë¡œìš°ë ˆë²¨ í”¼ë“œë°± ì›í•˜ì‹œë©´ ì£¼ì„ í•´ì œ ê°€ëŠ¥
        // document.getElementById("progress-text").textContent = "ì—°ê²° ì™„ë£Œ"; 

        const TREASURE_MAP = {
          "A1": { name: "pyhgoshift", hasTreasure: true },
          "A2": { name: "A2êµ¬ì—­", hasTreasure: false },
          "A3": { name: "A3êµ¬ì—­", hasTreasure: true },
          "A4": { name: "A4êµ¬ì—­", hasTreasure: false },
          "B1": { name: "B1êµ¬ì—­", hasTreasure: false },
          "B2": { name: "B2êµ¬ì—­", hasTreasure: true },
          "B3": { name: "B3êµ¬ì—­", hasTreasure: false },
          "B4": { name: "B4êµ¬ì—­", hasTreasure: true },
          "C1": { name: "C1êµ¬ì—­", hasTreasure: false },
          "C2": { name: "C2êµ¬ì—­", hasTreasure: true },
          "C3": { name: "C3êµ¬ì—­", hasTreasure: false },
          "C4": { name: "C4êµ¬ì—­", hasTreasure: true },
          "D1": { name: "D1êµ¬ì—­", hasTreasure: false },
          "D2": { name: "D2êµ¬ì—­", hasTreasure: true },
          "D3": { name: "D3êµ¬ì—­", hasTreasure: false },
          "D4": { name: "D4êµ¬ì—­", hasTreasure: true },
          "E1": { name: "E1êµ¬ì—­", hasTreasure: false },
          "E2": { name: "E2êµ¬ì—­", hasTreasure: true },
          "E3": { name: "E3êµ¬ì—­", hasTreasure: false },
          "E4": { name: "E4êµ¬ì—­", hasTreasure: false },
        };
        const MAX_WINNERS = 10;

        const locationId = new URLSearchParams(window.location.search).get("loc") || "default";
        const config = TREASURE_MAP[locationId] || { name: (locationId === "default" ? "ì´ë²¤íŠ¸" : locationId) + " êµ¬ì—­", hasTreasure: false };
        document.getElementById("loc-label").textContent = "ğŸ“ " + config.name;

        // ì‹¤ì‹œê°„ ë‹¹ì²¨ í˜„í™©
        db.collection("global").doc("stats").onSnapshot((snap) => {
          const count = snap.exists ? (snap.data().totalWinners || 0) : 0;
          const pct = Math.min((count / MAX_WINNERS) * 100, 100);
          document.getElementById("progress-text").textContent = `${count} / ${MAX_WINNERS}ëª…`;
          document.getElementById("progress-fill").style.width = pct + "%";
          document.getElementById("progress-count").innerHTML = `${count} <span>/ ${MAX_WINNERS}ëª… ë‹¹ì²¨</span>`;
        });

        const getCookie = (n) => document.cookie.split(";").some(c => c.trim().startsWith(n + "="));
        const setCookie = (n, v, days) => {
          const d = new Date(); d.setTime(d.getTime() + days * 86400000);
          document.cookie = `${n}=${v};expires=${d.toUTCString()};path=/;SameSite=Strict`;
        };

        // ë³´ë¬¼ ì°¾ê¸° ì‹¤í–‰í•¨ìˆ˜ ì •ì˜
        window.findTreasure = async () => {
          window.findTreasure = async () => {
            const btn = document.getElementById("find-btn");
            const loader = document.getElementById("loader");
            const errMsg = document.getElementById("error-msg");
            if (btn.disabled) return; // ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ë©´ ë¬´ì‹œ
            btn.disabled = true; // [ë³´ì•ˆ] í´ë¦­ ì¦‰ì‹œ ë¹„í™œì„±í™”
            loader.style.display = "block";
            errMsg.textContent = "";

            try {
              const locationId = location.search.split('loc=')[1]?.split('&')[0] || 'default';
              const config = TREASURE_ZONES.find(z => z.id === locationId);
              if (!config) {
                showError("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” êµ¬ì—­ì…ë‹ˆë‹¤.");
                btn.disabled = false;
                loader.style.display = "none";
                return;
              }

              const isAdmin = getCookie("admin_auth");
              const urlParams = new URLSearchParams(window.location.search);
              const isForceWin = isAdmin && urlParams.get('forceWin') === 'true';

              // [ê°€ë“œ] ì´ë¯¸ ì°¸ì—¬í•œ ê¸°ë¡ì´ ìˆëŠ”ì§€ ë¡œì»¬ ì²´í¬ (ê´€ë¦¬ì í…ŒìŠ¤íŠ¸ ì œì™¸)
              if (!isAdmin && (getCookie(`visited_${locationId}`) || localStorage.getItem(`voted_${locationId}`))) {
                showAlready();
                loader.style.display = "none";
                return;
              }

              const fpId = await (async () => {
                let id = localStorage.getItem('treasure_hunt_v2_id');
                if (id) return id;
                try {
                  const fp = await FingerprintJS.load();
                  const res = await fp.get();
                  id = res.visitorId;
                } catch (e) {
                  id = 'u_' + Math.random().toString(36).substr(2, 9);
                }
                localStorage.setItem('treasure_hunt_v2_id', id);
                return id;
              })();

              const visitorKey = isAdmin ? `admin_test_${Date.now()}` : `${locationId}_${fpId}`;
              const visitorRef = db.collection("visitors").doc(visitorKey);
              const globalRef = db.collection("global").doc("stats");

              logMsg("ê²°ê³¼ í™•ì¸ ì¤‘...");
              await firebase.firestore().runTransaction(async (t) => {
                const visitorSnap = await t.get(visitorRef);
                const globalSnap = await t.get(globalRef);

                if (!isAdmin && visitorSnap.exists) {
                  showAlready();
                  throw new Error("ALREADY_PARTICIPATED");
                }

                const totalWinners = globalSnap.exists ? (globalSnap.data().totalWinners || 0) : 0;

                // [ì¤‘ìš”] ëª¨ë“  ê²½ë¡œì—ì„œ markAsVoted(locationId)ë¥¼ ì‹¤í–‰í•˜ì—¬ ì¤‘ë³µ í´ë¦­ ë°©ì§€

                // 1. ê°•ì œ ë‹¹ì²¨ ëª¨ë“œ (ê´€ë¦¬ì ì „ìš©)
                if (isForceWin) {
                  const testId = `test_${Date.now()}`;
                  markAsVoted(locationId);
                  showFound(testId);
                  return;
                }

                // 2. ê½ì¸ ê²½ìš°
                if (!config.hasTreasure) {
                  if (!isAdmin) t.set(visitorRef, { fpId, locationId, ts: firebase.firestore.FieldValue.serverTimestamp(), result: "empty" });
                  markAsVoted(locationId);
                  showEmpty();
                  return;
                }

                // 3. ë‹¹ì²¨ ì œí•œ ë„ë‹¬
                if (totalWinners >= MAX_WINNERS) {
                  if (!isAdmin) t.set(visitorRef, { fpId, locationId, ts: firebase.firestore.FieldValue.serverTimestamp(), result: "late" });
                  markAsVoted(locationId);
                  showEmpty();
                  return;
                }

                // 4. ğŸ‰ ì •ì‹ ë‹¹ì²¨!
                const attemptId = `${locationId}_${Date.now()}`;
                if (!isAdmin) {
                  t.set(visitorRef, { fpId, locationId, ts: firebase.firestore.FieldValue.serverTimestamp(), result: "found", attemptId });
                  t.set(db.collection("winners").doc(attemptId), {
                    attemptId, fpId, locationId,
                    locationName: config.name,
                    phone: null, ts: firebase.firestore.FieldValue.serverTimestamp()
                  });
                  t.set(globalRef, { totalWinners: totalWinners + 1 }, { merge: true });
                }
                markAsVoted(locationId);
                showFound(isAdmin ? "admin_test" : attemptId);
              });

              loader.style.display = "none";

            } catch (e) {
              if (e.message !== "ALREADY_PARTICIPATED") {
                console.error(e);
                errMsg.textContent = "âš ï¸ ì˜¤ë¥˜ ë°œìƒ. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
                btn.disabled = false;
              }
              loader.style.display = "none";
            }
          };

          function markAsVoted(locId) {
            setCookie(`visited_${locId}`, "1", 365);
            localStorage.setItem(`voted_${locId}`, "true");
          }

          window.formatPhone = (target) => {
            target.value = target.value
              .replace(/[^0-9]/g, "")
              .replace(/^(\d{2,3})(\d{3,4})(\d{4})$/, `$1-$2-$3`);
          };

          window.submitPhone = async () => {
            const raw = document.getElementById("phone-input").value.replace(/-/g, "");
            const phoneErr = document.getElementById("phone-error");
            const phoneOk = document.getElementById("phone-success");
            if (!/^010\d{8}$/.test(raw)) {
              phoneErr.textContent = "ì˜¬ë°”ë¥¸ ë²ˆí˜¸ ì…ë ¥ (ì˜ˆ: 010-1234-5678)"; return;
            }
            if (window._attemptId === "admin_test") {
              phoneOk.textContent = "âœ… [ê´€ë¦¬ì í…ŒìŠ¤íŠ¸] ì‹¤ì œ ì €ì¥ ì•ˆë¨";
              document.querySelector(".submit-btn").disabled = true; return;
            }
            try {
              await db.collection("winners").doc(window._attemptId).update({ phone: raw });
              document.querySelector(".submit-btn").disabled = true;
              document.getElementById("phone-input").disabled = true;
              phoneOk.textContent = "âœ… ì ‘ìˆ˜ ì™„ë£Œ! ê³§ ì—°ë½ë“œë¦½ë‹ˆë‹¤.";
            } catch (e) {
              logMsg("ì œì¶œ ì˜¤ë¥˜: " + e.message, true);
              phoneErr.textContent = "ì œì¶œ ì‹¤íŒ¨. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
            }
          };

          window.showFound = (id) => {
            window._attemptId = id;
            toggle("start-screen", false); toggle("result", true); toggle("result-found", true);
          };
          window.showEmpty = () => {
            toggle("start-screen", false); toggle("result", true); toggle("result-empty", true);
          };
          window.showAlready = () => {
            toggle("start-screen", false); toggle("result", true); toggle("result-already", true);
          };
          const toggle = (id, show) => { document.getElementById(id).style.display = show ? "block" : "none"; };

          logMsg("ì¤€ë¹„ ì™„ë£Œ.");
        } catch (err) {
          logMsg(err.message, true);
        }
      }) ();
  </script>

</body>

</html>